# 継続的な開発とメンテナンス

このドキュメントでは、このテンプレートリポジトリを長期的に運用・メンテナンスするための手順と推奨プラクティスを説明します。

## テンプレートリポジトリとしての運用

### GitHubテンプレートリポジトリの設定

このリポジトリは、GitHubのテンプレート機能を利用して運用します。テンプレートとして設定されたリポジトリからは、新しいプロジェクトを簡単に作成できます。

#### テンプレートリポジトリの設定方法（管理者向け）

より詳細な設定手順と必要なGitHubのSecrets設定については、[GitHub設定ガイド](./07_github-setup.md)を参照してください。

基本的な手順は以下の通りです：

1. GitHubのリポジトリページに移動します
2. 「Settings」タブをクリックします
3. 「General」セクションを開きます
4. 「Template repository」オプションにチェックを入れます

これで、このリポジトリはテンプレートリポジトリとして機能するようになります。

#### テンプレートからの新規プロジェクト作成方法（ユーザー向け）

1. テンプレートリポジトリのページに移動します
2. 「Use this template」ボタンをクリックします
3. 「Create a new repository」を選択します
4. 新しいリポジトリの名前と説明を入力します
5. プライベートまたはパブリックを選択します
6. 「Create repository from template」をクリックします

### コンテンツ作成ワークフロー

新しいWebサイトやブログを作成する際の基本的なワークフローは以下の通りです：

1. テンプレートから新しいリポジトリを作成します
2. リポジトリをローカル環境にクローンするか、GitHub Codespaces で開きます
3. Dev Container環境を使用して開発を始めます
4. 必要に応じてテンプレートをカスタマイズします（[テンプレート](./05_templates.md)を参照）
5. コンテンツを追加または変更します
6. 変更をコミットしてプッシュします
7. GitHub Actionsによる自動デプロイが行われます（設定されている場合）

## 依存パッケージの管理

### 自動アップデートの仕組み

このリポジトリには、依存パッケージを定期的に更新するための自動化ワークフローが含まれています。GitHub Actionsにより、毎週月曜日に依存パッケージのアップデートが確認され、必要に応じてプルリクエストが作成されます。

#### 自動更新の流れ

1. 毎週月曜日のUTC午前3時（または手動トリガー時）にワークフローが実行されます
2. 最新の依存パッケージがチェックされ、更新が必要な場合は変更が適用されます
3. 変更がある場合、`update-dependencies`ブランチが作成されます
4. そのブランチからメインブランチへのプルリクエストが自動的に作成されます
5. プルリクエストがCIテストに合格すれば、レビューして承認・マージできます

### 手動での依存パッケージ更新

自動更新を待たずに手動で依存パッケージを更新する場合は、以下のコマンドを実行できます：

```bash
# 依存パッケージの最新バージョンをチェック
pnpm outdated

# すべての依存パッケージを最新バージョンに更新
pnpm update --latest

# 特定のパッケージのみを更新
pnpm update <package-name> --latest
```

更新後は、アプリケーションが正常に動作することを確認してください。問題がなければ変更をコミットし、プッシュしてください。

### バージョン管理の推奨プラクティス

- セマンティックバージョニング（Semantic Versioning）を採用してください
- メジャーバージョンの更新は慎重に行い、互換性の問題を十分にテストしてください
- 更新の理由と変更内容を明確にドキュメント化してください
- 重要な依存関係に大きな変更がある場合は、個別のブランチで先行してテストすることを推奨します

## テンプレートのアップデートと改善

このテンプレート自体を改善する場合のワークフローは以下の通りです：

1. 課題やアイデアについて、GitHubのIssueを作成します
2. 必要に応じてブランチを作成し、変更を実装します
3. プルリクエストを作成し、変更内容を説明します
4. レビューとテストを経てマージします
5. ドキュメントを更新して、変更を反映します

### 貢献のガイドライン

テンプレートへの貢献を歓迎します。貢献する際は、以下のガイドラインに従ってください：

- コーディングスタイルとフォーマットを一貫させるため、ESLintとPrettierの設定に従ってください
- 新しい機能やコンポーネントには、適切なドキュメントとサンプルを追加してください
- すべての変更がテストされ、既存の機能を破壊しないことを確認してください
- コミットメッセージは明確で、何を変更したのかが分かるようにしてください

## 問題のトラッキングと管理

- バグ、機能リクエスト、改善提案はGitHubのIssueトラッカーで管理します
- Issueには適切なラベル（`bug`, `enhancement`, `documentation`など）を付けてください
- 優先度に応じてIssueをマイルストーンに割り当てることができます

## セキュリティ更新

セキュリティ関連の更新は最優先で対応する必要があります：

- GitHub Dependabot alertsを有効にして、セキュリティ脆弱性を監視します
- セキュリティ関連の更新はすぐに適用し、テストしてください
- 重要なセキュリティ更新がある場合は、このテンプレートから作成された既存のプロジェクトに通知することを検討してください

## ドキュメントの更新

テンプレートやコンポーネントを変更する場合は、必ず関連するドキュメントも更新してください：

- 主要な変更点は`README.md`に反映させます
- 詳細な使用方法や設定手順は、`docs/`ディレクトリ内の適切なファイルに記載します
- コンポーネントやAPIの変更は、関連するドキュメントファイルで説明します
